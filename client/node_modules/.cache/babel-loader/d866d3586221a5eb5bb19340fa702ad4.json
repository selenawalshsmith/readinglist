{"ast":null,"code":"var _jsxFileName = \"/Users/selena/readinglist/client/src/components/UserHome.js\";\nimport React, { Component, KeyboardEvent } from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport BookGrid from \"./grid/BookGrid\";\nimport BookCard from \"./grid/BookCard\";\nimport Search from \"./Search\";\nimport getBooks from \"./../actions/getBooks\";\nimport { isEmpty } from 'lodash';\n\nfunction IsLoading(props) {\n  const isLoading = props.isLoading;\n\n  if (isLoading) {\n    return /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 13,\n        columnNumber: 12\n      }\n    }, \"Loading...\");\n  }\n\n  return 0;\n}\n\nlet book1 = {\n  id: \"We21AwAAQBAJ\",\n  title: \"Principles and Practice Using C++\",\n  author: \"Bjarne Stroustrup\",\n  description: \"An Introduction to Programming by the Inventor of C++ Preparation for Programming in the Real World The book assumes that you aim eventually to write non-trivial programs, whether for work in software development or in some other technical field ...\",\n  img: \"http://books.google.com/books/content?id=We21AwAAQBAJ&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api\"\n};\nlet book2 = {\n  id: \"yQRErgEACAAJ\",\n  title: \"Grokking Algorithms\",\n  description: \"Summary Grokking Algorithms is a fully illustrated, friendly guide that teaches you how to apply common algorithms to the practical problems you face every day as a programmer. You'll start with sorting and searching and, as you build up your ...\",\n  img: \"http://books.google.com/books/content?id=We21AwAAQBAJ&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api\"\n};\nlet book3 = {\n  id: \"PXa2bby0oQ0C\",\n  title: \"JavaScript: The Good Parts\",\n  description: \"Most programming languages contain good and bad parts, but JavaScript has more than its share of the bad, having been developed and released in a hurry before it could be refined. This authoritative book scrapes away these bad features to reveal ...\",\n  img: \"http://books.google.com/books/content?id=PXa2bby0oQ0C&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api\"\n};\nbook1 = JSON.stringify(book1);\nbook2 = JSON.stringify(book2);\nbook3 = JSON.stringify(book3);\n\nclass UserHome extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      user: this.props.location.state.userData.email,\n      //jsonBookList: {},\n      myBooks: [book1, book2, book3] //this is an array of objects once populated\n\n    };\n  }\n\n  getUserName(pathname) {\n    var path_arr = pathname.split(\"/\");\n    return path_arr[2];\n  }\n  /*\n  getBookList(){\n    const userName = this.getUserName(this.props.location.pathname);\n    let jsonList = {};\n    axios\n      .post(\"/api/users/getBookList\", {name: userName})\n      .then(res => {\n        console.log(res.data.success.booklist);\n        //jsonList = res.data.success.booklist;\n        this.setState({jsonBookList: res.data.success.booklist})\n      }).catch(err => {console.log(err);});\n    return jsonList;\n  }\n  */\n\n\n  componentDidMount() {\n    //setState({user: decoded_token})\n    //const jsonBookList = this.getBookList(); //return json object containing the list of book links\n    //console.log(jsonBookList);\n    //this.getBooks(jsonBookList);\n    //this.setState({user: this.props.location.state.userData.email})\n    console.log(this.state); //const userName = this.getUserName(this.props.location.pathname);\n    //getBooks(this.state.user);\n\n    const email = this.state.user;\n    axios.post(\"/api/users/getBookList\", email).then(res => {\n      console.log(res.data.bookList);\n    }).catch(err => {\n      console.log(err);\n    }); //let jsonList = {};\n\n    /*\n    axios\n      .post(\"/api/users/getBookList\", {name: userName})\n      .then(res => {\n        console.log(res.data.success.booklist);\n        //jsonList = res.data.success.booklist;\n        this.setState({jsonBookList: res.data.success.booklist})\n      }).catch(err => {console.log(err);});\n      */\n    //console.log(jsonList);\n    //this.getBooks(jsonList);\n    //books will be added as json strings\n    //console.log(this.state.jsonBookList);\n\n    /*\n    axios.post(\"/api/users/addBook\", {name: userName, book: jsonBook})\n          .then(res=> {\n            console.log(res.data);\n          }).catch(err => {console.log(err);});\n          */\n\n    /*\n    let jsonList = this.state.jsonBookList;\n    for(let i=0; i<=jsonList.length; i++){\n      console.log(jsonList[i]);\n    }\n    */\n  }\n\n  render() {\n    const myName = this.getUserName(this.props.location.pathname);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }\n    }, \"Hello \", myName), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 24\n      }\n    }, \"Explore\"))), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(BookGrid, {\n      cols: 3,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 11\n      }\n    })));\n  }\n\n}\n\n;\nexport default UserHome;","map":{"version":3,"sources":["/Users/selena/readinglist/client/src/components/UserHome.js"],"names":["React","Component","KeyboardEvent","axios","Link","BookGrid","BookCard","Search","getBooks","isEmpty","IsLoading","props","isLoading","book1","id","title","author","description","img","book2","book3","JSON","stringify","UserHome","constructor","state","user","location","userData","email","myBooks","getUserName","pathname","path_arr","split","componentDidMount","console","log","post","then","res","data","bookList","catch","err","render","myName"],"mappings":"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","sourcesContent":["\nimport React, {Component,  KeyboardEvent}  from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport BookGrid from \"./grid/BookGrid\";\nimport BookCard from \"./grid/BookCard\";\nimport Search from \"./Search\";\nimport getBooks from \"./../actions/getBooks\";\nimport {isEmpty} from 'lodash';\nfunction IsLoading(props){\n  const isLoading = props.isLoading;\n  if (isLoading){\n    return <h1>Loading...</h1>\n  }\n  return 0;\n}\nlet book1 = {\n  id: \"We21AwAAQBAJ\",\n  title: \"Principles and Practice Using C++\",\n  author: \"Bjarne Stroustrup\",\n  description: \"An Introduction to Programming by the Inventor of C++ Preparation for Programming in the Real World The book assumes that you aim eventually to write non-trivial programs, whether for work in software development or in some other technical field ...\",\n  img: \"http://books.google.com/books/content?id=We21AwAAQBAJ&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api\"\n};\nlet book2 = {\n  id: \"yQRErgEACAAJ\",\n  title: \"Grokking Algorithms\",\n  description: \"Summary Grokking Algorithms is a fully illustrated, friendly guide that teaches you how to apply common algorithms to the practical problems you face every day as a programmer. You'll start with sorting and searching and, as you build up your ...\",\n  img: \"http://books.google.com/books/content?id=We21AwAAQBAJ&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api\"\n};\nlet book3 = {\n  id: \"PXa2bby0oQ0C\",\n  title: \"JavaScript: The Good Parts\",\n  description: \"Most programming languages contain good and bad parts, but JavaScript has more than its share of the bad, having been developed and released in a hurry before it could be refined. This authoritative book scrapes away these bad features to reveal ...\",\n  img: \"http://books.google.com/books/content?id=PXa2bby0oQ0C&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api\"\n};\nbook1 = JSON.stringify(book1);\nbook2 = JSON.stringify(book2);\nbook3 = JSON.stringify(book3);\nclass UserHome extends Component{\n  constructor(props) {\n    super(props);\n\n    this.state= {\n      user: this.props.location.state.userData.email,\n      //jsonBookList: {},\n      myBooks: [book1, book2, book3] //this is an array of objects once populated\n    }\n\n  }\n  getUserName(pathname){\n    var path_arr = pathname.split(\"/\");\n    return path_arr[2];\n  }\n  /*\n  getBookList(){\n    const userName = this.getUserName(this.props.location.pathname);\n    let jsonList = {};\n    axios\n      .post(\"/api/users/getBookList\", {name: userName})\n      .then(res => {\n        console.log(res.data.success.booklist);\n        //jsonList = res.data.success.booklist;\n        this.setState({jsonBookList: res.data.success.booklist})\n      }).catch(err => {console.log(err);});\n    return jsonList;\n }\n */\n  componentDidMount(){\n    //setState({user: decoded_token})\n    //const jsonBookList = this.getBookList(); //return json object containing the list of book links\n    //console.log(jsonBookList);\n    //this.getBooks(jsonBookList);\n    //this.setState({user: this.props.location.state.userData.email})\n    console.log(this.state);\n    //const userName = this.getUserName(this.props.location.pathname);\n    //getBooks(this.state.user);\n    const email = this.state.user;\n    axios.post(\"/api/users/getBookList\", email).then(res=> {\n      console.log(res.data.bookList);\n    }).catch(err => {console.log(err);});\n    //let jsonList = {};\n    /*\n    axios\n      .post(\"/api/users/getBookList\", {name: userName})\n      .then(res => {\n        console.log(res.data.success.booklist);\n        //jsonList = res.data.success.booklist;\n        this.setState({jsonBookList: res.data.success.booklist})\n      }).catch(err => {console.log(err);});\n      */\n    //console.log(jsonList);\n    //this.getBooks(jsonList);\n\n    //books will be added as json strings\n    //console.log(this.state.jsonBookList);\n    /*\n    axios.post(\"/api/users/addBook\", {name: userName, book: jsonBook})\n          .then(res=> {\n            console.log(res.data);\n          }).catch(err => {console.log(err);});\n          */\n    /*\n    let jsonList = this.state.jsonBookList;\n    for(let i=0; i<=jsonList.length; i++){\n      console.log(jsonList[i]);\n    }\n    */\n\n  }\n  render (){\n    const myName = this.getUserName(this.props.location.pathname);\n\n    return (\n      <div>\n        <div>Hello {myName}</div>\n        <div>\n        {/*  <IsLoading isLoading={isEmpty(this.jsonBookList)}/> */}\n        </div>\n        <div>\n          <Link to=\"/\"><button>Explore</button></Link>\n        </div>\n        <div>\n          <BookGrid cols={3}>\n          {/*\n            this.state.myBooks.map((bookItem, i) => (\n              <BookCard title={bookItem.title} id={bookItem.id} author={bookItem.author} img={bookItem.img} description={bookItem.description} key={i}/>\n            ))*/}\n          </BookGrid>\n        </div>\n      </div>\n    )\n  }\n};\nexport default UserHome;\n"]},"metadata":{},"sourceType":"module"}